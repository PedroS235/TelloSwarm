<launch>
    <!-- ID of the drone -->
    <arg name="id"/>

    <group ns="tello_$(arg id)">
        <!-- Tello slam launch files -->
        <include file="$(find tello_slam_ros)/launch/tello_slam_ros_detector.launch">
            <arg name="tello_slam_detector_frame_name" value="slam_detector_$(arg id)"/>
            <arg name="tello_slam_detector_child_frame_name" value="slam_vision_$(arg id)"/>
        </include>

        <include file="$(find tello_slam_ros)/launch/tello_slam_ros_display.launch">
            <arg name="show_display" value="false"/>
        </include>

        <!-- Aruco_eye launch files -->
        <include file="$(find aruco_eye_ros)/launch/aruco_eye_ros_detector.launch">
            <arg name="aruco_detector_frame_name" value="aruco_detector_$(arg id)"/>
        </include>

        <include file="$(find aruco_eye_ros)/launch/aruco_eye_ros_display.launch">
            <arg name="flag_display_output_image" value="false"/>
        </include>

        
        <!-- marker_localisation launch files -->
        <include file="$(find marker_localisation)/launch/naive_estimation.launch">
            <arg name="aruco_detector" value="aruco_detector_$(arg id)"/>
            <arg name="slam_detector" value="slam_detector_$(arg id)"/>
            <arg name="robot" value="tello_$(arg id)"/>
        </include>
    </group>
</launch>